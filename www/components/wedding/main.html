<div id="wrap">

  <div class="header"></div>

  <div bs-affix data-offset-top="650"
       class="navbar navbar-custom navbar-inverse navbar-static-top" id="nav">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav nav-justified">
          <li><a href="#guests">Гості</a></li>
          <li><a href="#news">Новини</a></li>
          <li><a href="#help">Допомога</a></li>
          <li><a href="#wishlist">Вішліст</a></li>
          <li><a href="#map">Місце проведення</a></li>
          <li><a href="#contacts">Контакти</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="divider" id="guests"></div>
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">
      <h1>Гості</h1>
      <hr/>

      <div class="row height50">
        <div class="col-sm-2">Гість 1</div>
        <div class="col-sm-4">{{vm.me.name}}</div>
      </div>
      <div class="row height50" ng-repeat="guest in vm.guests">
        <div class="col-sm-2">Гість {{$index+2}}</div>
        <div class="col-sm-4">{{guest.name}}</div>
        <div class="col-sm-1">
          <input type="checkbox" ng-change="vm.checkPerson(guest)" ng-model="guest.status"/>
        </div>
        <div class="col-sm-1">
          <button class="btn btn-danger" ng-click="vm.removePerson(guest, $index)">
            <span class="glyphicon glyphicon-trash"></span>
          </button>
        </div>
      </div>
      <br/>
      <div class="row form-group" ng-if="vm.showAddPerson">
        <div class="col-sm-2"></div>
        <div class="col-sm-4">
          <input type="text" ng-model="vm.newPersonName" placeholder="Прізвище та ім'я гостя" class="form-control"/>
        </div>
      </div>

      <div class="row form-group" ng-if="!vm.showAddPerson">
        <div class="col-sm-2"></div>
        <div class="col-sm-2">
          <button class="btn btn-default btn-block" ng-click="vm.showAddPerson=true">
            <span class="glyphicon glyphicon-plus"></span> Додати особу
          </button>
        </div>
      </div>

      <div class="row form-group" ng-if="vm.showAddPerson === true">
        <div class="col-sm-2"></div>
        <div class="col-sm-2">
          <button class="btn btn-success btn-block" ng-click="vm.addPerson()">
            Додати
          </button>
        </div>
        <div class="col-sm-2">
          <button class="btn btn-warning btn-block" ng-click="vm.showAddPerson=false">
            Відмінити
          </button>
        </div>
      </div>

      <hr>
      <div class="divider"></div>
    </div>
  </div>
  <div class="divider"></div>
  <section class="bg-1">
    <div class="col-sm-6 col-sm-offset-3 text-center"></div>
  </section>

  <div class="divider" id="news"></div>
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">
      <h1>Новини</h1>
      <hr>
      <p>
        новини
      </p>
      <hr>
      <div class="divider"></div>
    </div>
  </div>
  <div class="divider"></div>
  <section class="bg-2">
    <div class="col-sm-6 col-sm-offset-3 text-center"></div>
  </section>

  <div class="divider" id="help"></div>
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">
      <h1>Допомога</h1>
      <hr>
      <p>
        допомога
      </p>
      <hr>
      <div class="divider"></div>
    </div>
  </div>
  <div class="divider"></div>
  <section class="bg-3">
    <div class="col-sm-6 col-sm-offset-3 text-center"></div>
  </section>

  <div class="divider" id="wishlist"></div>
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">
      <h1>Вішліст</h1>
      <hr>
      <p>
        вішліст
      </p>
      <hr>
      <div class="divider"></div>
    </div>
  </div>
  <div class="divider"></div>
  <section class="bg-4">
    <div class="col-sm-6 col-sm-offset-3 text-center"></div>
  </section>

  <div class="divider" id="map"></div>
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">
      <h1>Місце проведення</h1>
      <hr/>
    </div>
    <div id="map-canvas"></div>
    <hr>
    <div class="col-sm-3 pull-right">
      <address>
        <span id="map-input">
        вул. Лугова, 3,<br>
        Мала Данилівка,<br>
        Харківська область</span>
      </address>
    </div>
  </div>

  <div class="divider" id="contacts"></div>
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">
      <h1>Контакти</h1>
      <div class="divider"></div>
    </div>
    <div class="divider"></div>
    <div class="container social">

      <div class="col-sm-6 text-center social">
        <div class="row">
          <ul class="list-inline center-block">
            <li><a target="_blank" href="https://facebook.com/anna.kurakova.16"><img src="components/wedding/assets/fb.png"></a></li>
            <li><a target="_blank" href="https://vk.com/anny_kurakova"><img src="components/wedding/assets/vk.png"></a></li>
          </ul>
        </div>
        <div class="row">
          <span>Аня (050) 303-6066</span>
        </div>
      </div>

      <div class="col-sm-6 text-center social">
        <div class="row">
          <ul class="list-inline center-block">
            <li><a target="_blank" href="https://facebook.com/otelnov"><img src="components/wedding/assets/fb.png"></a></li>
            <li><a target="_blank" href="https://twitter.com/otelnov"><img src="components/wedding/assets/tw.png"></a></li>
            <li><a target="_blank" href="https://plus.google.com/101309979629203587148"><img src="components/wedding/assets/gplus.png"></a>
            </li>
          </ul>
        </div>
        <div class="row">
          <span>Саня (093) 503-1088</span>
        </div>
      </div>

    </div>
    <div class="divider"></div>
    <div class="row form-group">
      <div class="col-sm-7 col-sm-offset-1">
        <label for="mess">Надіслати нам повідомлення</label>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-sm-7 col-sm-offset-1">
        <textarea rows="10" class="form-control" id="mess"
                  placeholder="Текст повідомлення"
                  ng-model="vm.userComment"></textarea>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-sm-7 col-sm-offset-1">
        <button class="btn btn-default pull-right"
                ng-click="vm.addComment()">Надіслати</button>
      </div>
    </div>
  </div>

</div><!--/wrap-->

<div id="footer">
  <div class="container">
    <p class="text-muted">Copyright ©2015 telnov.com</p>
  </div>
</div>

<ul ng-click="vm.scroll()" class="nav pull-right scroll-top">
  <li><a href title="Scroll to top"><i class="glyphicon glyphicon-chevron-up"></i></a></li>
</ul>

<script>
  google.maps.visualRefresh = true;

  var map;

  function initialize() {
    var geocoder = new google.maps.Geocoder();
    //var address = $('#map-input').text();
    var addr = document.getElementById('map-input');
    var address = addr.innerText || addr.textContent;
    var mapOptions = {
      zoom: 15,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      scrollwheel: false
    };
    map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

    if (geocoder) {
      geocoder.geocode({'address': address}, function (results, status) {
        if (status === google.maps.GeocoderStatus.OK) {
          if (status !== google.maps.GeocoderStatus.ZERO_RESULTS) {
            map.setCenter(results[0].geometry.location);

            var infowindow = new google.maps.InfoWindow({
              content: address,
              map: map,
              position: results[0].geometry.location
            });

            var marker = new google.maps.Marker({
              position: results[0].geometry.location,
              map: map,
              title: address
            });

          } else {
            //alert('No results found');
          }
        }
      });
    }
  }

  google.maps.event.addDomListener(window, 'load', initialize);
</script>
